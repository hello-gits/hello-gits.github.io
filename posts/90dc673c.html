<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="JVM系列（五）、常用命令（上）, hnbian">
    <meta name="description" content="一、介绍运用Jvm自带的命令可以方便的和监控和打印堆栈的日志信息帮忙我们来定位问题。虽然Jvm调用成熟的工具已经很多：jconsole、大名鼎鼎的VisualVM、IMBM的Memory Analyzer 等等。但是在生产环境出现问题的时候">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>JVM系列（五）、常用命令（上） | hnbian</title>
    <link rel="icon" type="image/png" href="https://images.hnbian.cn/FvNSAGx7xljxALFh8Fa2DPNFP-JB">

    <link rel="stylesheet" type="text/css" href="https://images.hnbian.cn/all.css">
    <link rel="stylesheet" type="text/css" href="https://images.hnbian.cn/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://images.hnbian.cn/aos.css">
    <link rel="stylesheet" type="text/css" href="https://images.hnbian.cn/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://images.hnbian.cn/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    
    <script src="https://images.hnbian.cn/jquery.min.mind.js"></script>
    <script data-ad-client="ca-pub-5756598031349071" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="google-site-verification" content="GrFMoauFrf8T4o0YL7D2b8YqhXQwVruyJKGw57gZ8J4">
<link rel="alternate" href="/atom.xml" title="hnbian" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="https://images.hnbian.cn/FvNSAGx7xljxALFh8Fa2DPNFP-JB" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">hnbian</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/graph" class="waves-effect waves-light">
      
      <i class="fa fa-graduation-cap" style="zoom: 0.6;"></i>
      
      <span>知识图谱</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="https://images.hnbian.cn/FvNSAGx7xljxALFh8Fa2DPNFP-JB" class="logo-img circle responsive-img">
        
        <div class="logo-name">hnbian</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/graph" class="waves-effect waves-light">
			
			    <i class="fa-fw fa fa-graduation-cap"></i>
			
			知识图谱
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			关于
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/hnbian" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/hnbian" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('https://images.hnbian.cn/Fm1_l6GNhNaeZ9wWH71SgLSLISg9')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">JVM系列（五）、常用命令（上）</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="https://images.hnbian.cn/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/java/">
                                <span class="chip bg-color">java</span>
                            </a>
                        
                            <a href="/tags/jvm/">
                                <span class="chip bg-color">jvm</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/java/" class="post-category">
                                java
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-01-29
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    5.6k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    28 分
                </div>
                
				
                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
            
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><p>运用Jvm自带的命令可以方便的和监控和打印堆栈的日志信息帮忙我们来定位问题。虽然Jvm调用成熟的工具已经很多：jconsole、大名鼎鼎的VisualVM、IMBM的Memory Analyzer 等等。但是在生产环境出现问题的时候，使用这些环境的使用会有所限制，另一方面我们可以在终端输入一些命令来解决问题。所有的工具几乎都是依赖于jdk的接口和底层的这些命令，研究这些命令的使用也让我们更能了解Jvm的构成和特性。</p>
<p>Sum JDK 监控和故障处理命令有 jps、jstat、jmap、jhat、jstack、jinfo 下面一一进行介绍。</p>
<h2 id="二、jps"><a href="#二、jps" class="headerlink" title="二、jps"></a>二、jps</h2><p>jps（Jvm Process Status Tool）：是用于查看有权访问的hostspot 虚拟机的进程，当未指定hostid时，默认是本机进程。否则查看指定的hostid机器上的jvm进程，此时hostid所指的机器必须开启jstatd服务。jvm可以列出jvm进程lvmid、主类类名、main函数参数、jvm参数、jar名称等信息。</p>
<h3 id="2-1-命令格式"><a href="#2-1-命令格式" class="headerlink" title="2.1 命令格式"></a>2.1 命令格式</h3><p>jps [options] [hostid]</p>
<p>options：命令选项（一次可使用多个），用来对输出格式进行控制</p>
<p>hostid：指定特定主机，可以是IP地址和域名，也可以是具体协议、端口。</p>
<h3 id="2-2-参数说明"><a href="#2-2-参数说明" class="headerlink" title="2.2 参数说明"></a>2.2 参数说明</h3><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-l</td>
<td>输出主类全名或jar路径</td>
</tr>
<tr>
<td>-q</td>
<td>只输出LVMID（Local Virtual Machine Identifier，本地虚拟机标识符）</td>
</tr>
<tr>
<td>-m</td>
<td>输出Jvm启动时传递给main()的参数</td>
</tr>
<tr>
<td>-v</td>
<td>输出Jvm 启动时显示指定的jvm参数</td>
</tr>
</tbody></table>
<h3 id="2-3-使用示例"><a href="#2-3-使用示例" class="headerlink" title="2.3 使用示例"></a>2.3 使用示例</h3><h4 id="2-3-1-jps"><a href="#2-3-1-jps" class="headerlink" title="2.3.1 jps"></a>2.3.1 jps</h4><p>使用 jps 命令，没有加 option 的时候，默认显示标识符号 和 简单的class 名称或jar名称。</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jps
1008 Launcher
1009 LoaderTest
1027 Jps
792</code></pre>
<h4 id="2-3-2-jps-l"><a href="#2-3-2-jps-l" class="headerlink" title="2.3.2 jps -l"></a>2.3.2 jps -l</h4><p>jps -l： 输出LVMID 和 主类全名或jar路径</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jps -l
1008 org.jetbrains.jps.cmdline.Launcher
1009 com.hnbian.loader.LoaderTest
792
1035 sun.tools.jps.Jps</code></pre>
<h4 id="2-3-3-jps-q"><a href="#2-3-3-jps-q" class="headerlink" title="2.3.3 jps -q"></a>2.3.3 jps -q</h4><p>jps -q：只输出LVMID（Local Virtual Machine Identifier，本地虚拟机标识符）</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jps -q
1076
1077
1095
792</code></pre>
<h4 id="2-3-4-jps-m"><a href="#2-3-4-jps-m" class="headerlink" title="2.3.4 jps -m"></a>2.3.4 jps -m</h4><p>jps -m：输出LVMID 和 类名 和 Jvm启动时传递给main()的参数</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jps -m
1076 LoaderTest params <span class="token comment" spellcheck="true">#params 为传送的参数</span>
1077 Launcher /Applications/IntelliJ IDEA.app/Contents/lib/plexus-component-annotations-1.6.jar:/Applications/IntelliJ IDEA.app/Contents/lib/aether-api-1.1.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib/aether-transport-http-1.1.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib/aether-util-1.1.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib/lz4-1.3.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib/httpcore-4.4.10.jar:/Applications/IntelliJ IDEA.app/Contents/lib/guava-25.1-jre.jar:/Applications/IntelliJ IDEA.app/Contents/lib/asm-all-7.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib/util.jar:/Applications/IntelliJ IDEA.app/Contents/lib/platform-api.jar:/Applications/IntelliJ IDEA.app/Contents/lib/plexus-interpolation-1.21.jar:/Applications/IntelliJ IDEA.app/Contents/lib/aether-spi-1.1.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib/protobuf-java-3.4.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib/aether-connector-basic-1.1.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib
1078 Jps -m
792</code></pre>
<h4 id="2-3-5-jps-v"><a href="#2-3-5-jps-v" class="headerlink" title="2.3.5 jps -v"></a>2.3.5 jps -v</h4><p>jps -v：输出Jvm 启动时显示指定的jvm参数</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jps -v
1076 LoaderTest -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar<span class="token operator">=</span>50744:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding<span class="token operator">=</span>UTF-8
1077 Launcher -Xmx700m -Djava.awt.headless<span class="token operator">=</span>true -Djava.endorsed.dirs<span class="token operator">=</span><span class="token string">""</span> -Djdt.compiler.useSingleThread<span class="token operator">=</span>true -Dpreload.project.path<span class="token operator">=</span>/Users/hnbian/Documents/GitHub/MyJava -Dpreload.config.path<span class="token operator">=</span>/Users/hnbian/Library/Preferences/IntelliJIdea2018.3/options -Dcompile.parallel<span class="token operator">=</span>false -Drebuild.on.dependency.change<span class="token operator">=</span>true -Djava.net.preferIPv4Stack<span class="token operator">=</span>true -Dio.netty.initialSeedUniquifier<span class="token operator">=</span>6886927916990474178 -Dfile.encoding<span class="token operator">=</span>UTF-8 -Duser.language<span class="token operator">=</span>zh -Duser.country<span class="token operator">=</span>CN -Didea.paths.selector<span class="token operator">=</span>IntelliJIdea2018.3 -Didea.home.path<span class="token operator">=</span>/Applications/IntelliJ IDEA.app/Contents -Didea.config.path<span class="token operator">=</span>/Users/hnbian/Library/Preferences/IntelliJIdea2018.3 -Didea.plugins.path<span class="token operator">=</span>/Users/hnbian/Library/Application Support/IntelliJIdea2018.3 -Djps.log.dir<span class="token operator">=</span>/Users/hnbian/Library/Logs/IntelliJIdea2018.3/build-log -Djps.fallback.jdk.home<span class="token operator">=</span>/Applications/IntelliJ IDEA.app/Contents/jdk/Contents/Home/jre -Djps.fallback.jdk.version<span class="token operator">=</span>1.8.0_152-release -Dio.netty.noUnsafe<span class="token operator">=</span>true -Djava.io.tmpdir<span class="token operator">=</span>/Users/hnbian/Library/Caches/IntelliJIdea2018.3/compile-server/myjava_e835943a/_temp_
792  -Xms512m -Xmx2048m -XX:ReservedCodeCacheSize<span class="token operator">=</span>512m -XX:+UseCompressedOops -Dfile.encoding<span class="token operator">=</span>UTF-8 -XX:+UseConcMarkSweepGC -XX:SoftRefLRUPolicyMSPerMB<span class="token operator">=</span>50 -ea -Dsun.io.useCanonCaches<span class="token operator">=</span>false -Djava.net.preferIPv4Stack<span class="token operator">=</span>true -Djdk.http.auth.tunneling.disabledSchemes<span class="token operator">=</span><span class="token string">""</span> -XX:+HeapDumpOnOutOfMemoryError -XX:-OmitStackTraceInFastThrow -Xverify:none -XX:ErrorFile<span class="token operator">=</span>/Users/hnbian/java_error_in_idea_%p.log -XX:HeapDumpPath<span class="token operator">=</span>/Users/hnbian/java_error_in_idea.hprof -Djb.vmOptionsFile<span class="token operator">=</span>/Applications/IntelliJ IDEA.app/Contents/bin/idea.vmoptions -Didea.java.redist<span class="token operator">=</span>jdk-bundled -Didea.home.path<span class="token operator">=</span>/Applications/IntelliJ IDEA.app/Contents -Didea.executable<span class="token operator">=</span>idea -Didea.paths.selector<span class="token operator">=</span>IntelliJIdea2018.3
1098 Jps -Dapplication.home<span class="token operator">=</span>/Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home -Xms8m</code></pre>
<h4 id="2-3-6-jps-l-m"><a href="#2-3-6-jps-l-m" class="headerlink" title="2.3.6 jps -l -m"></a>2.3.6 jps -l -m</h4><p>jps -l -m：输出LVMID 和 主类全名或jar路径 和 Jvm启动时传递给main()的参数</p>
<pre class=" language-bash"><code class="language-bash">1076 com.hnbian.loader.LoaderTest params
1077 org.jetbrains.jps.cmdline.Launcher /Applications/IntelliJ IDEA.app/Contents/lib/plexus-component-annotations-1.6.jar:/Applications/IntelliJ IDEA.app/Contents/lib/aether-api-1.1.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib/aether-transport-http-1.1.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib/aether-util-1.1.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib/lz4-1.3.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib/httpcore-4.4.10.jar:/Applications/IntelliJ IDEA.app/Contents/lib/guava-25.1-jre.jar:/Applications/IntelliJ IDEA.app/Contents/lib/asm-all-7.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib/util.jar:/Applications/IntelliJ IDEA.app/Contents/lib/platform-api.jar:/Applications/IntelliJ IDEA.app/Contents/lib/plexus-interpolation-1.21.jar:/Applications/IntelliJ IDEA.app/Contents/lib/aether-spi-1.1.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib/protobuf-java-3.4.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib/aether-connector-basic-1.1.0.jar:/Applications/IntelliJ IDEA.app/Contents/lib
792
1102 sun.tools.jps.Jps -l -m</code></pre>
<h2 id="三、jstat"><a href="#三、jstat" class="headerlink" title="三、jstat"></a>三、jstat</h2><p>jstat （Jvm statistics Monitoring）是用于监视虚拟机运行时状态信息的命令，它可以显示出本地或者远程虚拟机进程中类装载、内存、垃圾收集、JIT编译（ just in time，即时编译器）等运行数据。在没有GUI 图形界面，只提供了纯文本控制台环境的服务器上，它将是运行期定位虚拟机性能问题的首选工具。</p>
<h3 id="3-1-命令格式与参数说明"><a href="#3-1-命令格式与参数说明" class="headerlink" title="3.1 命令格式与参数说明"></a>3.1 命令格式与参数说明</h3><p>jstat [option] LVMID [interval] [count]</p>
<table>
<thead>
<tr>
<th>jstat</th>
<th>[option]</th>
<th>LVMID</th>
<th>[interval]</th>
<th>[count]</th>
</tr>
</thead>
<tbody><tr>
<td>jstat命令</td>
<td>操作参数</td>
<td>本地虚拟机进程ID</td>
<td>连续输出的时间间隔</td>
<td>连续输出的次数</td>
</tr>
</tbody></table>
<h3 id="3-2-参数说明"><a href="#3-2-参数说明" class="headerlink" title="3.2 参数说明"></a>3.2 参数说明</h3><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-class</td>
<td>class loader （类加载器）的行为统计。</td>
</tr>
<tr>
<td>-compiler</td>
<td>HotSpt JIT（just in time，即时）编译器行为统计。</td>
</tr>
<tr>
<td>-gc</td>
<td>垃圾回收堆（heap）的行为统计。</td>
</tr>
<tr>
<td>-gccapacity</td>
<td>各个垃圾回收代容量（young、old、perm）和他们相应的空间统计。</td>
</tr>
<tr>
<td>-gcutil</td>
<td>垃圾税收统计概述。</td>
</tr>
<tr>
<td>-gccause</td>
<td>垃圾收集统计概述（同一gcutil），附加最近两次垃圾回收事件的原因。</td>
</tr>
<tr>
<td>-gcnew</td>
<td>新生代行为统计。</td>
</tr>
<tr>
<td>-gcnewcapacity</td>
<td>新生代与其相应的内存空间的统计。</td>
</tr>
<tr>
<td>-gcold</td>
<td>老年代和永生代行为统计。</td>
</tr>
<tr>
<td>-gcoldcapacity</td>
<td>老年代行为统计。</td>
</tr>
<tr>
<td>-gcpermcapacity</td>
<td>永生代行为统计</td>
</tr>
<tr>
<td>-printcompilation</td>
<td>HotSpot编译方法统计</td>
</tr>
</tbody></table>
<h3 id="3-3-使用示例"><a href="#3-3-使用示例" class="headerlink" title="3.3 使用示例"></a>3.3 使用示例</h3><p>在使用<font color="red"> jstat</font> 之前我们先使用 <font color="red"> jps -l</font> 命令看一下现在有哪些运行中的进程</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jps -l
1216 org.jetbrains.jps.cmdline.Launcher
1217 com.hnbian.loader.LoaderTest
1219 sun.tools.jps.Jps</code></pre>
<h4 id="3-3-1-jstat-class"><a href="#3-3-1-jstat-class" class="headerlink" title="3.3.1 jstat -class"></a>3.3.1 jstat -class</h4><p>jstat -class 1217： 监视类装载、卸载数量、总空间以及消耗的时间。</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jstat -class 1217
Loaded  Bytes  Unloaded  Bytes     Time
   591  1191.7        0     0.0       0.08</code></pre>
<ul>
<li>详细说明</li>
</ul>
<table>
<thead>
<tr>
<th>列名</th>
<th>数值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Loaded</td>
<td>591</td>
<td>加载class的数量</td>
</tr>
<tr>
<td>Bytes</td>
<td>1191.7</td>
<td>class字节大小</td>
</tr>
<tr>
<td>Unloaded</td>
<td>0</td>
<td>未加载class的数量</td>
</tr>
<tr>
<td>Bytes</td>
<td>0.0</td>
<td>未加载class的字节大小</td>
</tr>
<tr>
<td>Time</td>
<td>0.08</td>
<td>加载时间</td>
</tr>
</tbody></table>
<h4 id="3-3-2-jstat-compiler"><a href="#3-3-2-jstat-compiler" class="headerlink" title="3.3.2 jstat -compiler"></a>3.3.2 jstat -compiler</h4><p>jstat -compiler 1217：输出JIT编译过的方法数量耗时等。</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jstat -compiler 1217
Compiled Failed Invalid   Time   FailedType FailedMethod
      71      0       0     0.02          0

hnbiandeMacBook-Pro:bin hnbian$ jstat -compiler 1217 200 3 <span class="token comment" spellcheck="true"># 每隔200秒打印一次，一共打印三次</span>
Compiled Failed Invalid   Time   FailedType FailedMethod
      71      0       0     0.02          0
      71      0       0     0.02          0
      71      0       0     0.02          0</code></pre>
<ul>
<li>详细说明</li>
</ul>
<table>
<thead>
<tr>
<th>列名</th>
<th>数值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Compiled</td>
<td>71</td>
<td>编译数量</td>
</tr>
<tr>
<td>Failed</td>
<td>0</td>
<td>编译失败数量</td>
</tr>
<tr>
<td>Invalid</td>
<td>0</td>
<td>无效数量</td>
</tr>
<tr>
<td>Time</td>
<td>0.02</td>
<td>编译耗时</td>
</tr>
<tr>
<td>FailedType</td>
<td>0</td>
<td>失败类型</td>
</tr>
<tr>
<td>FailedMethod</td>
<td></td>
<td>失败方法的全限定名</td>
</tr>
</tbody></table>
<h4 id="3-3-3-jstat-gc"><a href="#3-3-3-jstat-gc" class="headerlink" title="3.3.3 jstat -gc"></a>3.3.3 jstat -gc</h4><p>jstat -gc 1217：垃圾回收堆的行为统计，常用命令</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jstat -gc 1217
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT
10752.0 10752.0  0.0    0.0   65536.0   6554.0   175104.0     0.0     4480.0 779.9  384.0   76.4       0    0.000   0      0.000    0.000

hnbiandeMacBook-Pro:bin hnbian$ jstat -gc 1217 2000 2 <span class="token comment" spellcheck="true">#这个命令的意思是每隔 2000ms (2秒) 输出 1217的GC情况，一共输出2次。</span>
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT
10752.0 10752.0  0.0    0.0   65536.0   6554.0   175104.0     0.0     4480.0 779.9  384.0   76.4       0    0.000   0      0.000    0.000
10752.0 10752.0  0.0    0.0   65536.0   6554.0   175104.0     0.0     4480.0 779.9  384.0   76.4       0    0.000   0      0.000    0.000

</code></pre>
<ul>
<li>详细说明<br>C 即 Capacity 总容量。<br>U 即 Used 已使用的容量。</li>
</ul>
<table>
<thead>
<tr>
<th>列名</th>
<th>数值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>S0C</td>
<td>10752.0</td>
<td>survivor0区的总容量</td>
</tr>
<tr>
<td>S1C</td>
<td>10752.0</td>
<td>survivor1区的总容量</td>
</tr>
<tr>
<td>S0U</td>
<td>0.0</td>
<td>survivor0区的已使用的容量</td>
</tr>
<tr>
<td>S1U</td>
<td>0.0</td>
<td>survivor1区的已使用的容量</td>
</tr>
<tr>
<td>EC</td>
<td>65536.0</td>
<td>Eden区的总容量</td>
</tr>
<tr>
<td>EU</td>
<td>6554.0</td>
<td>Eden区已使用的容量</td>
</tr>
<tr>
<td>OC</td>
<td>175104.0</td>
<td>Old区的总容量</td>
</tr>
<tr>
<td>OU</td>
<td>0.0</td>
<td>Old区已使用的容量</td>
</tr>
<tr>
<td>MC</td>
<td>4480.0</td>
<td>方法区大小</td>
</tr>
<tr>
<td>MU</td>
<td>779.9</td>
<td>方法区使用大小</td>
</tr>
<tr>
<td>CCSC</td>
<td>384.0</td>
<td>压缩类空间大小</td>
</tr>
<tr>
<td>CCSU</td>
<td>76.4</td>
<td>压缩类空间使用大小</td>
</tr>
<tr>
<td>YGC</td>
<td>0</td>
<td>新生代垃圾回收次数</td>
</tr>
<tr>
<td>YGCT</td>
<td>0.000</td>
<td>新生代垃圾回收时间</td>
</tr>
<tr>
<td>FGC</td>
<td>0</td>
<td>老年代垃圾回收次数</td>
</tr>
<tr>
<td>FGCT</td>
<td>0.000</td>
<td>老年代垃圾回收时间</td>
</tr>
<tr>
<td>GCT</td>
<td>0.000</td>
<td>垃圾回收总消耗时间</td>
</tr>
</tbody></table>
<h4 id="3-3-4-jstat-gccapacity"><a href="#3-3-4-jstat-gccapacity" class="headerlink" title="3.3.4 jstat -gccapacity"></a>3.3.4 jstat -gccapacity</h4><p>jstat -gccapacity 1217 ：该参数与 gc 参数功能相似，不过会给出更详细的信息，增加了Java堆各区域使用到的最大、最小空间。</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jstat -gccapacity 1217
 NGCMN    NGCMX     NGC     S0C   S1C       EC      OGCMN      OGCMX       OGC         OC       MCMN     MCMX      MC     CCSMN    CCSMX     CCSC    YGC    FGC
 87040.0 1397760.0  87040.0 10752.0 10752.0  65536.0   175104.0  2796544.0   175104.0   175104.0      0.0 1056768.0   4480.0      0.0 1048576.0    384.0      0     0</code></pre>
<ul>
<li>详细说明</li>
</ul>
<table>
<thead>
<tr>
<th>列名</th>
<th>数值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>NGCMN</td>
<td>87040.0</td>
<td>新生代占用的最小空间</td>
</tr>
<tr>
<td>NGCMX</td>
<td>1397760.0</td>
<td>新生代占用的最大空间</td>
</tr>
<tr>
<td>NGC</td>
<td>87040.0</td>
<td>当前新生代容量</td>
</tr>
<tr>
<td>S0C</td>
<td>10752.0</td>
<td>survivor0区的总容量</td>
</tr>
<tr>
<td>S1C</td>
<td>10752.0</td>
<td>survivor1区的总容量</td>
</tr>
<tr>
<td>EC</td>
<td>65536.0</td>
<td>Eden区的总容量</td>
</tr>
<tr>
<td>OGCMN</td>
<td>175104.0</td>
<td>老年代占用的最小空间</td>
</tr>
<tr>
<td>OGCMX</td>
<td>2796544.0</td>
<td>老年代占用的最大空间</td>
</tr>
<tr>
<td>OGC</td>
<td>175104.0</td>
<td>当前老年代容量（KB）</td>
</tr>
<tr>
<td>OC</td>
<td>175104.0</td>
<td>当前老年代的空间（KB）</td>
</tr>
<tr>
<td>MCMN</td>
<td>0.0</td>
<td>最小元数据容量</td>
</tr>
<tr>
<td>MCMX</td>
<td>1056768.0</td>
<td>最大元数据容量</td>
</tr>
<tr>
<td>MC</td>
<td>4480.0</td>
<td>当前元数据空间大小</td>
</tr>
<tr>
<td>CCSMN</td>
<td>0.0</td>
<td>压缩类占用的最小空间</td>
</tr>
<tr>
<td>CCSMX</td>
<td>1048576.0</td>
<td>压缩类占用的最大空间</td>
</tr>
<tr>
<td>CCSC</td>
<td>384.0</td>
<td>压缩类空间大小</td>
</tr>
<tr>
<td>YGC</td>
<td>0</td>
<td>新生代垃圾回收次数</td>
</tr>
<tr>
<td>FGC</td>
<td>0</td>
<td>老年代垃圾回收次数</td>
</tr>
</tbody></table>
<h4 id="3-3-5-jstat-gcutil"><a href="#3-3-5-jstat-gcutil" class="headerlink" title="3.3.5 jstat -gcutil"></a>3.3.5 jstat -gcutil</h4><p>jstat -gcutil  1217：同-gc，不过输出的是已使用空间占总空间的百分比</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jstat -gcutil  1217
  S0     S1     E      O      M     CCS    YGC     YGCT    FGC    FGCT     GCT
  0.00   0.00  10.00   0.00  17.41  19.90      0    0.000     0    0.000    0.000</code></pre>
<ul>
<li>详细说明</li>
</ul>
<table>
<thead>
<tr>
<th>列名</th>
<th>数值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>S0</td>
<td>0.00</td>
<td>survivor0区使用占比</td>
</tr>
<tr>
<td>S1</td>
<td>0.00</td>
<td>survivor1区使用占比</td>
</tr>
<tr>
<td>E</td>
<td>10.00</td>
<td>Eden区的使用占比</td>
</tr>
<tr>
<td>O</td>
<td>0.00</td>
<td>老年代使用占比</td>
</tr>
<tr>
<td>M</td>
<td>17.41</td>
<td>元数据区使用比例</td>
</tr>
<tr>
<td>CCS</td>
<td>19.90</td>
<td>压缩使用比例</td>
</tr>
<tr>
<td>YGC</td>
<td>0</td>
<td>年轻代垃圾回收次数</td>
</tr>
<tr>
<td>YGCT</td>
<td>0.000</td>
<td>年轻代垃圾回收消耗时间</td>
</tr>
<tr>
<td>FGC</td>
<td>0</td>
<td>老年代垃圾回收次数</td>
</tr>
<tr>
<td>FGCT</td>
<td>0.000</td>
<td>老年代垃圾回收消耗时间</td>
</tr>
<tr>
<td>GCT</td>
<td>0.000</td>
<td>垃圾回收消耗总时间</td>
</tr>
</tbody></table>
<h4 id="3-3-6-jstat-gccause"><a href="#3-3-6-jstat-gccause" class="headerlink" title="3.3.6 jstat -gccause"></a>3.3.6 jstat -gccause</h4><p>jstat -gccause 1217：垃圾收集统计概述（同-gcutil），附加最近两次垃圾回收事件的原因</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jstat -gccause 1217
  S0     S1     E      O      M     CCS    YGC     YGCT    FGC    FGCT     GCT    LGCC                 GCC
  0.00   0.00  10.00   0.00  17.41  19.90      0    0.000     0    0.000    0.000 No GC                No GC</code></pre>
<ul>
<li>详细说明</li>
</ul>
<table>
<thead>
<tr>
<th>列名</th>
<th>数值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>S0</td>
<td>0.00</td>
<td>survivor0区使用占比</td>
</tr>
<tr>
<td>S1</td>
<td>0.00</td>
<td>survivor1区使用占比</td>
</tr>
<tr>
<td>E</td>
<td>10.00</td>
<td>Eden区的使用占比</td>
</tr>
<tr>
<td>O</td>
<td>0.00</td>
<td>老年代使用占比</td>
</tr>
<tr>
<td>M</td>
<td>17.41</td>
<td>元数据区使用比例</td>
</tr>
<tr>
<td>CCS</td>
<td>19.90</td>
<td>压缩使用比例</td>
</tr>
<tr>
<td>YGC</td>
<td>0</td>
<td>年轻代垃圾回收次数</td>
</tr>
<tr>
<td>YGCT</td>
<td>0.000</td>
<td>年轻代垃圾回收消耗时间</td>
</tr>
<tr>
<td>FGC</td>
<td>0</td>
<td>老年代垃圾回收次数</td>
</tr>
<tr>
<td>FGCT</td>
<td>0.000</td>
<td>老年代垃圾回收消耗时间</td>
</tr>
<tr>
<td>GCT</td>
<td>0.000</td>
<td>垃圾回收消耗总时间</td>
</tr>
<tr>
<td>LGCC</td>
<td>No GC</td>
<td>最近垃圾回收的原因</td>
</tr>
<tr>
<td>GCC</td>
<td>No GC</td>
<td>当前垃圾回收的原因</td>
</tr>
</tbody></table>
<h4 id="3-3-7-jstat-gcnew"><a href="#3-3-7-jstat-gcnew" class="headerlink" title="3.3.7 jstat -gcnew"></a>3.3.7 jstat -gcnew</h4><p>jstat -gcnew 1217：统计新生代的行为</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$  jstat -gcnew 1217
 S0C    S1C    S0U    S1U   TT MTT  DSS      EC       EU     YGC     YGCT
10752.0 10752.0    0.0    0.0 15  15    0.0  65536.0   6554.0      0    0.000</code></pre>
<ul>
<li>详细说明</li>
</ul>
<table>
<thead>
<tr>
<th>列名</th>
<th>数值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>S0C</td>
<td>10752.0</td>
<td>survivor0区的总容量</td>
</tr>
<tr>
<td>S1C</td>
<td>10752.0</td>
<td>survivor1区的总容量</td>
</tr>
<tr>
<td>S0U</td>
<td>0.0</td>
<td>survivor0区的已使用的容量</td>
</tr>
<tr>
<td>S1U</td>
<td>0.0</td>
<td>survivor1区的已使用的容量</td>
</tr>
<tr>
<td>TT</td>
<td>15</td>
<td>Tenuring threshold （提升阈值）</td>
</tr>
<tr>
<td>MTT</td>
<td>15</td>
<td>最大的Tenuring threshold</td>
</tr>
<tr>
<td>DSS</td>
<td>0.0</td>
<td>survivor区域大小（KB）</td>
</tr>
<tr>
<td>EC</td>
<td>65536.0</td>
<td>Eden区的总容量</td>
</tr>
<tr>
<td>EU</td>
<td>6554.0</td>
<td>Eden区已使用的容量</td>
</tr>
<tr>
<td>YGC</td>
<td>0</td>
<td>新生代垃圾回收次数</td>
</tr>
<tr>
<td>YGCT</td>
<td>0.000</td>
<td>新生代垃圾回收时间</td>
</tr>
</tbody></table>
<h4 id="3-3-8-jstat-gcnewcapacity"><a href="#3-3-8-jstat-gcnewcapacity" class="headerlink" title="3.3.8 jstat -gcnewcapacity"></a>3.3.8 jstat -gcnewcapacity</h4><p>jstat -gcnewcapacity 1217：新生代与其相应的内存空间的统计</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jstat -gcnewcapacity 1217
  NGCMN      NGCMX       NGC      S0CMX     S0C     S1CMX     S1C       ECMX        EC      YGC   FGC
   87040.0  1397760.0    87040.0 465920.0  10752.0 465920.0  10752.0  1396736.0    65536.0     0     0</code></pre>
<ul>
<li>详细说明</li>
</ul>
<table>
<thead>
<tr>
<th>列名</th>
<th>数值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>NGCMN</td>
<td>87040.0</td>
<td>新生代占用的最小空间</td>
</tr>
<tr>
<td>NGCMX</td>
<td>1397760.0</td>
<td>新生代占用的最大空间</td>
</tr>
<tr>
<td>NGC</td>
<td>87040.0</td>
<td>当前新生代容量（KB）</td>
</tr>
<tr>
<td>S0CMX</td>
<td>465920.0</td>
<td>最大的S0空间（KB）</td>
</tr>
<tr>
<td>S0C</td>
<td>10752.0</td>
<td>当前S0空间（KB）</td>
</tr>
<tr>
<td>S1CMX</td>
<td>465920.0</td>
<td>最大的S1空间（KB）</td>
</tr>
<tr>
<td>S1C</td>
<td>10752.0</td>
<td>当前S1空间（KB）</td>
</tr>
<tr>
<td>ECMX</td>
<td>1396736.0</td>
<td>最大Eden空间（KB）</td>
</tr>
<tr>
<td>EC</td>
<td>65536.0</td>
<td>当前Eden空间（KB）</td>
</tr>
<tr>
<td>YGC</td>
<td>0</td>
<td>新生代垃圾回收次数</td>
</tr>
<tr>
<td>FGC</td>
<td>0</td>
<td>老年代垃圾回收次数</td>
</tr>
</tbody></table>
<h4 id="3-3-9-jstat-gcold"><a href="#3-3-9-jstat-gcold" class="headerlink" title="3.3.9 jstat -gcold"></a>3.3.9 jstat -gcold</h4><p>jstat -gcold  1217：统计老年代的行为</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jstat -gcold  1217
   MC       MU      CCSC     CCSU       OC          OU       YGC    FGC    FGCT     GCT
  4480.0    779.9    384.0     76.4    175104.0         0.0      0     0    0.000    0.000</code></pre>
<ul>
<li>详细说明</li>
</ul>
<table>
<thead>
<tr>
<th>列名</th>
<th>数值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>MC</td>
<td>4480.0</td>
<td>方法区大小</td>
</tr>
<tr>
<td>MU</td>
<td>779.9</td>
<td>方法区使用大小</td>
</tr>
<tr>
<td>CCSC</td>
<td>384.0</td>
<td>压缩类空间大小</td>
</tr>
<tr>
<td>CCSU</td>
<td>76.4</td>
<td>压缩类空间使用大小</td>
</tr>
<tr>
<td>OC</td>
<td>175104.0</td>
<td>老年代大小</td>
</tr>
<tr>
<td>OU</td>
<td>0.0</td>
<td>老年代使用大小</td>
</tr>
<tr>
<td>YGC</td>
<td>0</td>
<td>年轻代垃圾回收次数</td>
</tr>
<tr>
<td>FGC</td>
<td>0</td>
<td>老年代垃圾回收次数</td>
</tr>
<tr>
<td>FGCT</td>
<td>0.000</td>
<td>老年代垃圾回收消耗时间</td>
</tr>
<tr>
<td>GCT</td>
<td>0.000</td>
<td>垃圾回收消耗总时间</td>
</tr>
</tbody></table>
<h4 id="3-3-10-gcoldcapacity"><a href="#3-3-10-gcoldcapacity" class="headerlink" title="3.3.10 gcoldcapacity"></a>3.3.10 gcoldcapacity</h4><p>统计老年代的大小和空间</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jstat -gcoldcapacity 1217
   OGCMN       OGCMX        OGC         OC       YGC   FGC    FGCT     GCT
   175104.0   2796544.0    175104.0    175104.0     0     0    0.000    0.000</code></pre>
<ul>
<li>详细说明</li>
</ul>
<table>
<thead>
<tr>
<th>列名</th>
<th>数值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>OGCMN</td>
<td>175104.0</td>
<td>老年代占用的最小空间</td>
</tr>
<tr>
<td>OGCMX</td>
<td>2796544.0</td>
<td>老年代占用的最大空间</td>
</tr>
<tr>
<td>OGC</td>
<td>175104.0</td>
<td>当前老年代容量（KB）</td>
</tr>
<tr>
<td>OC</td>
<td>175104.0</td>
<td>当前老年代的空间（KB）</td>
</tr>
<tr>
<td>YGC</td>
<td>0</td>
<td>新生代垃圾回收次数</td>
</tr>
<tr>
<td>FGC</td>
<td>0</td>
<td>老年代垃圾回收次数</td>
</tr>
<tr>
<td>FGCT</td>
<td>0.000</td>
<td>老年代垃圾回收消耗时间</td>
</tr>
<tr>
<td>GCT</td>
<td>0.000</td>
<td>垃圾回收消耗总时间</td>
</tr>
</tbody></table>
<h4 id="3-3-11-jstat-gcmetacapacity"><a href="#3-3-11-jstat-gcmetacapacity" class="headerlink" title="3.3.11 jstat -gcmetacapacity"></a>3.3.11 jstat -gcmetacapacity</h4><p>显示metaspace的大小</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jstat -gcmetacapacity 1217
   MCMN       MCMX        MC       CCSMN      CCSMX       CCSC     YGC   FGC    FGCT     GCT
   0.0  1056768.0     4480.0        0.0  1048576.0      384.0     0     0    0.000    0.000</code></pre>
<ul>
<li>详细说明</li>
</ul>
<table>
<thead>
<tr>
<th>列名</th>
<th>数值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>MCMN</td>
<td>0.0</td>
<td>最小元数据容量</td>
</tr>
<tr>
<td>MCMX</td>
<td>1056768.0</td>
<td>最大元数据容量</td>
</tr>
<tr>
<td>MC</td>
<td>4480.0</td>
<td>当前元数据空间大小</td>
</tr>
<tr>
<td>CCSMN</td>
<td>0.0</td>
<td>压缩类占用的最小空间</td>
</tr>
<tr>
<td>CCSMX</td>
<td>1048576.0</td>
<td>压缩类占用的最大空间</td>
</tr>
<tr>
<td>CCSC</td>
<td>384.0</td>
<td>压缩类空间大小</td>
</tr>
<tr>
<td>YGC</td>
<td>0</td>
<td>新生代垃圾回收次数</td>
</tr>
<tr>
<td>FGC</td>
<td>0</td>
<td>老年代垃圾回收次数</td>
</tr>
<tr>
<td>FGCT</td>
<td>0.000</td>
<td>老年代垃圾回收消耗时间</td>
</tr>
<tr>
<td>GCT</td>
<td>0.000</td>
<td>垃圾回收消耗总时间</td>
</tr>
</tbody></table>
<h4 id="3-3-12-jstat-printcompilation"><a href="#3-3-12-jstat-printcompilation" class="headerlink" title="3.3.12 jstat -printcompilation"></a>3.3.12 jstat -printcompilation</h4><p>jstat -printcompilation 1217：hotspot编译方法统计</p>
<pre class=" language-bash"><code class="language-bash">hnbiandeMacBook-Pro:bin hnbian$ jstat -printcompilation 1217
Compiled  Size  Type Method
71     13    1 java/lang/AbstractStringBuilder <span class="token operator">&lt;</span>init<span class="token operator">></span></code></pre>
<ul>
<li>详细说明</li>
</ul>
<table>
<thead>
<tr>
<th>列名</th>
<th>数值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Compiled</td>
<td>71</td>
<td>被执行的编译任务的数量</td>
</tr>
<tr>
<td>Size</td>
<td>13</td>
<td>方法字节码的字节数</td>
</tr>
<tr>
<td>Type</td>
<td>1</td>
<td>编译类型</td>
</tr>
<tr>
<td>Method</td>
<td>java/lang/AbstractStringBuilder &lt;init&gt;</td>
<td>编译方法的类名和方法名。类名使用”/” 代替 “.” 作为空间分隔符. 方法名是给出类的方法名. 格式是一致于HotSpot - XX:+PrintComplation 选项</td>
</tr>
</tbody></table>
<h2 id="四、jinfo"><a href="#四、jinfo" class="headerlink" title="四、jinfo"></a>四、jinfo</h2><p>jinfo （configuration info for java）：作用是实时地查看和调整虚拟机各项参数。使用jps -v 命令参数可以查看虚拟机启动时显式指定的参数列表，但是如果想知道未被显式指定的参数的系统默认值，除了找资料以外，还能使用info -flag 选项进行查询。</p>
<h3 id="4-1-命令格式"><a href="#4-1-命令格式" class="headerlink" title="4.1 命令格式"></a>4.1 命令格式</h3><p>jinfo [option] [args] LVMID</p>
<h3 id="4-2-参数说明"><a href="#4-2-参数说明" class="headerlink" title="4.2 参数说明"></a>4.2 参数说明</h3><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-flag</td>
<td>输出指定args参数的值</td>
</tr>
<tr>
<td>-flag [+ or -]&lt;name&gt;</td>
<td>启用或停用某个参数</td>
</tr>
<tr>
<td>-flag <name>=<value></value></name></td>
<td>给某个参数设置值</td>
</tr>
<tr>
<td>-flags</td>
<td>不需要args参数，输出所有JVM参数的值</td>
</tr>
<tr>
<td>-sysprops</td>
<td>输出系统属性，等同于System.getProperties()</td>
</tr>
</tbody></table>
<h3 id="4-3-使用示例"><a href="#4-3-使用示例" class="headerlink" title="4.3 使用示例"></a>4.3 使用示例</h3><h4 id="4-3-1-jinfo-flag"><a href="#4-3-1-jinfo-flag" class="headerlink" title="4.3.1 jinfo -flag"></a>4.3.1 jinfo -flag</h4><p>jinfo -flag CICompilerCount 3446：查看编译线程数，默认是2</p>
<pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># jinfo -flag CICompilerCount 3446</span>
-XX:CICompilerCount<span class="token operator">=</span>2</code></pre>
<h4 id="4-3-2-jinfo-flag-or-lt-name-gt"><a href="#4-3-2-jinfo-flag-or-lt-name-gt" class="headerlink" title="4.3.2 jinfo -flag [+ or -]&lt;name&gt;"></a>4.3.2 jinfo -flag [+ or -]&lt;name&gt;</h4><ul>
<li>开启GC日志</li>
</ul>
<pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># #开启GC日志</span>
<span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># jinfo -flag +PrintGCDetails 3446</span>
<span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># jinfo -flag +PrintGC 3446</span>
<span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true">#</span>
<span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># jinfo -flags 3446</span>
Attaching to process ID 3446, please wait<span class="token punctuation">..</span>.
Debugger attached successfully.
Server compiler detected.
JVM version is 25.191-b12
Non-default VM flags: -XX:CICompilerCount<span class="token operator">=</span>2 -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath<span class="token operator">=</span>null -XX:InitialHeapSize<span class="token operator">=</span>31457280 -XX:+ManagementServer -XX:MaxHeapSize<span class="token operator">=</span>1048576000 -XX:MaxNewSize<span class="token operator">=</span>349503488 -XX:MinHeapDeltaBytes<span class="token operator">=</span>196608 -XX:NewSize<span class="token operator">=</span>10485760 -XX:OldSize<span class="token operator">=</span>20971520 -XX:OnOutOfMemoryError<span class="token operator">=</span>null -XX:+PrintGC -XX:+PrintGCDetails -XX:+UseCompressedClassPointers -XX:+UseCompressedOops
Command line:  -Dzookeeper.log.dir<span class="token operator">=</span>/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/logs -Dzookeeper.log.file<span class="token operator">=</span>zookeeper-root-server-node1.log -Dzookeeper.root.logger<span class="token operator">=</span>INFO,CONSOLE -XX:+HeapDumpOnOutOfMemoryError -XX:OnOutOfMemoryError<span class="token operator">=</span>kill -9 %p -Xmx1000m -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.local.only<span class="token operator">=</span>false</code></pre>
<ul>
<li>关闭GC日志</li>
</ul>
<pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># #关闭GC日志</span>
<span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># jinfo -flag -PrintGCDetails 3446</span>
<span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># jinfo -flag -PrintGC 3446</span>
<span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true">#</span>
<span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># jinfo -flags 3446</span>
Attaching to process ID 3446, please wait<span class="token punctuation">..</span>.
Debugger attached successfully.
Server compiler detected.
JVM version is 25.191-b12
Non-default VM flags: -XX:CICompilerCount<span class="token operator">=</span>2 -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath<span class="token operator">=</span>null -XX:InitialHeapSize<span class="token operator">=</span>31457280 -XX:+ManagementServer -XX:MaxHeapSize<span class="token operator">=</span>1048576000 -XX:MaxNewSize<span class="token operator">=</span>349503488 -XX:MinHeapDeltaBytes<span class="token operator">=</span>196608 -XX:NewSize<span class="token operator">=</span>10485760 -XX:OldSize<span class="token operator">=</span>20971520 -XX:OnOutOfMemoryError<span class="token operator">=</span>null -XX:-PrintGC -XX:-PrintGCDetails -XX:+UseCompressedClassPointers -XX:+UseCompressedOops
Command line:  -Dzookeeper.log.dir<span class="token operator">=</span>/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/logs -Dzookeeper.log.file<span class="token operator">=</span>zookeeper-root-server-node1.log -Dzookeeper.root.logger<span class="token operator">=</span>INFO,CONSOLE -XX:+HeapDumpOnOutOfMemoryError -XX:OnOutOfMemoryError<span class="token operator">=</span>kill -9 %p -Xmx1000m -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.local.only<span class="token operator">=</span>false</code></pre>
<h4 id="4-3-3-jinfo-flag-lt-name-gt-lt-value-gt"><a href="#4-3-3-jinfo-flag-lt-name-gt-lt-value-gt" class="headerlink" title="4.3.3 jinfo -flag &lt;name&gt;=&lt;value&gt;"></a>4.3.3 jinfo -flag &lt;name&gt;=&lt;value&gt;</h4><p>jinfo -flag HeapDumpPath=/opt/jvmlog：设置 HeapDumpPath</p>
<pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># jinfo -flag HeapDumpPath=/opt/jvmlog 3446</span>
<span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true">#</span>
<span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># jinfo -flag HeapDumpPath 3446 # 查看设置是否成功</span>
-XX:HeapDumpPath<span class="token operator">=</span>/opt/jvmlog</code></pre>
<p>哪些参数是允许动态修改的呢，用下面这个命令可以查看</p>
<ul>
<li><p>Linux 和 Mac<br>java -XX:+PrintFlagsInitial | grep manageable</p>
</li>
<li><p>windows<br>java -XX:+PrintFlagsInitial | findstr manageable</p>
</li>
</ul>
<pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># java -XX:+PrintFlagsInitial | grep manageable ## mac 环境查看哪些参数可以动态调整</span>
     intx CMSAbortablePrecleanWaitMillis            <span class="token operator">=</span> 100                                 <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
     intx CMSTriggerInterval                        <span class="token operator">=</span> -1                                  <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
     intx CMSWaitDuration                           <span class="token operator">=</span> 2000                                <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
     bool HeapDumpAfterFullGC                       <span class="token operator">=</span> <span class="token boolean">false</span>                               <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
     bool HeapDumpBeforeFullGC                      <span class="token operator">=</span> <span class="token boolean">false</span>                               <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
     bool HeapDumpOnOutOfMemoryError                <span class="token operator">=</span> <span class="token boolean">false</span>                               <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
    ccstr HeapDumpPath                              <span class="token operator">=</span>                                     <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
    uintx MaxHeapFreeRatio                          <span class="token operator">=</span> 70                                  <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
    uintx MinHeapFreeRatio                          <span class="token operator">=</span> 40                                  <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
     bool PrintClassHistogram                       <span class="token operator">=</span> <span class="token boolean">false</span>                               <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
     bool PrintClassHistogramAfterFullGC            <span class="token operator">=</span> <span class="token boolean">false</span>                               <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
     bool PrintClassHistogramBeforeFullGC           <span class="token operator">=</span> <span class="token boolean">false</span>                               <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
     bool PrintConcurrentLocks                      <span class="token operator">=</span> <span class="token boolean">false</span>                               <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
     bool PrintGC                                   <span class="token operator">=</span> <span class="token boolean">false</span>                               <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
     bool PrintGCDateStamps                         <span class="token operator">=</span> <span class="token boolean">false</span>                               <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
     bool PrintGCDetails                            <span class="token operator">=</span> <span class="token boolean">false</span>                               <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
     bool PrintGCID                                 <span class="token operator">=</span> <span class="token boolean">false</span>                               <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span>
     bool PrintGCTimeStamps                         <span class="token operator">=</span> <span class="token boolean">false</span>                               <span class="token punctuation">{</span>manageable<span class="token punctuation">}</span></code></pre>
<h4 id="4-3-4-jinfo-flags"><a href="#4-3-4-jinfo-flags" class="headerlink" title="4.3.4 jinfo -flags"></a>4.3.4 jinfo -flags</h4><p>jinfo -flags 3446：输出所有JVM参数的值</p>
<pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># jinfo -flags 3446</span>
Attaching to process ID 3446, please wait<span class="token punctuation">..</span>.
Debugger attached successfully.
Server compiler detected.
JVM version is 25.191-b12
Non-default VM flags: -XX:CICompilerCount<span class="token operator">=</span>2 -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath<span class="token operator">=</span>null -XX:InitialHeapSize<span class="token operator">=</span>31457280 -XX:+ManagementServer -XX:MaxHeapSize<span class="token operator">=</span>1048576000 -XX:MaxNewSize<span class="token operator">=</span>349503488 -XX:MinHeapDeltaBytes<span class="token operator">=</span>196608 -XX:NewSize<span class="token operator">=</span>10485760 -XX:OldSize<span class="token operator">=</span>20971520 -XX:OnOutOfMemoryError<span class="token operator">=</span>null -XX:+PrintGC -XX:+UseCompressedClassPointers -XX:+UseCompressedOops
Command line:  -Dzookeeper.log.dir<span class="token operator">=</span>/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/logs -Dzookeeper.log.file<span class="token operator">=</span>zookeeper-root-server-node1.log -Dzookeeper.root.logger<span class="token operator">=</span>INFO,CONSOLE -XX:+HeapDumpOnOutOfMemoryError -XX:OnOutOfMemoryError<span class="token operator">=</span>kill -9 %p -Xmx1000m -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.local.only<span class="token operator">=</span>false</code></pre>
<h4 id="4-3-5-jinfo-sysprops"><a href="#4-3-5-jinfo-sysprops" class="headerlink" title="4.3.5 jinfo -sysprops"></a>4.3.5 jinfo -sysprops</h4><p>jinfo -sysprops 3446：输出系统属性</p>
<pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@node1 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># jinfo -sysprops 3446</span>
Attaching to process ID 3446, please wait<span class="token punctuation">..</span>.
Debugger attached successfully.
Server compiler detected.
JVM version is 25.191-b12
java.runtime.name <span class="token operator">=</span> Java<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> SE Runtime Environment
java.vm.version <span class="token operator">=</span> 25.191-b12
sun.boot.library.path <span class="token operator">=</span> /opt/jdk1.8.0_191/jre/lib/amd64
zookeeper.root.logger <span class="token operator">=</span> INFO,CONSOLE
java.vendor.url <span class="token operator">=</span> http://java.oracle.com/
java.vm.vendor <span class="token operator">=</span> Oracle Corporation
com.sun.management.jmxremote.local.only <span class="token operator">=</span> <span class="token boolean">false</span>
path.separator <span class="token operator">=</span> <span class="token keyword">:</span>
java.rmi.server.randomIDs <span class="token operator">=</span> <span class="token boolean">true</span>
file.encoding.pkg <span class="token operator">=</span> sun.io
java.vm.name <span class="token operator">=</span> Java HotSpot<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> 64-Bit Server VM
sun.os.patch.level <span class="token operator">=</span> unknown
sun.java.launcher <span class="token operator">=</span> SUN_STANDARD
user.country <span class="token operator">=</span> CN
user.dir <span class="token operator">=</span> /opt/zookeeper-3.5.6
java.vm.specification.name <span class="token operator">=</span> Java Virtual Machine Specification
java.runtime.version <span class="token operator">=</span> 1.8.0_191-b12
java.awt.graphicsenv <span class="token operator">=</span> sun.awt.X11GraphicsEnvironment
os.arch <span class="token operator">=</span> amd64
java.endorsed.dirs <span class="token operator">=</span> /opt/jdk1.8.0_191/jre/lib/endorsed
zookeeper.log.dir <span class="token operator">=</span> /opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/logs
line.separator <span class="token operator">=</span>

java.io.tmpdir <span class="token operator">=</span> /tmp
java.vm.specification.vendor <span class="token operator">=</span> Oracle Corporation
os.name <span class="token operator">=</span> Linux
sun.jnu.encoding <span class="token operator">=</span> UTF-8
jetty.git.hash <span class="token operator">=</span> aa1c656c315c011c01e7b21aabb04066635b9f67
java.library.path <span class="token operator">=</span> /usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib
java.specification.name <span class="token operator">=</span> Java Platform API Specification
java.class.version <span class="token operator">=</span> 52.0
sun.management.compiler <span class="token operator">=</span> HotSpot 64-Bit Tiered Compilers
os.version <span class="token operator">=</span> 3.10.0-862.9.1.el7.x86_64
user.home <span class="token operator">=</span> /root
user.timezone <span class="token operator">=</span> GMT+08:00
java.awt.printerjob <span class="token operator">=</span> sun.print.PSPrinterJob
file.encoding <span class="token operator">=</span> UTF-8
java.specification.version <span class="token operator">=</span> 1.8
user.name <span class="token operator">=</span> root
java.class.path <span class="token operator">=</span> /opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/zookeeper-server/target/classes:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/build/classes:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/zookeeper-server/target/lib/*.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/build/lib/*.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/zookeeper-jute-3.5.6.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/zookeeper-3.5.6.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/slf4j-log4j12-1.7.25.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/slf4j-api-1.7.25.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/netty-transport-native-unix-common-4.1.42.Final.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/netty-transport-native-epoll-4.1.42.Final.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/netty-transport-4.1.42.Final.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/netty-resolver-4.1.42.Final.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/netty-handler-4.1.42.Final.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/netty-common-4.1.42.Final.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/netty-codec-4.1.42.Final.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/netty-buffer-4.1.42.Final.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/log4j-1.2.17.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/json-simple-1.1.1.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/jline-2.11.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/jetty-util-9.4.17.v20190418.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/jetty-servlet-9.4.17.v20190418.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/jetty-server-9.4.17.v20190418.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/jetty-security-9.4.17.v20190418.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/jetty-io-9.4.17.v20190418.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/jetty-http-9.4.17.v20190418.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/javax.servlet-api-3.1.0.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/jackson-databind-2.9.10.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/jackson-core-2.9.10.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/jackson-annotations-2.9.10.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/commons-cli-1.2.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/lib/audience-annotations-0.5.0.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/zookeeper-*.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/zookeeper-server/src/main/resources/lib/*.jar:/opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/conf:
com.sun.management.jmxremote <span class="token operator">=</span>
java.vm.specification.version <span class="token operator">=</span> 1.8
sun.arch.data.model <span class="token operator">=</span> 64
sun.java.command <span class="token operator">=</span> org.apache.zookeeper.server.quorum.QuorumPeerMain /opt/zookeeper-3.5.6/bin/<span class="token punctuation">..</span>/conf/zoo.cfg
java.home <span class="token operator">=</span> /opt/jdk1.8.0_191/jre
user.language <span class="token operator">=</span> zh
java.specification.vendor <span class="token operator">=</span> Oracle Corporation
awt.toolkit <span class="token operator">=</span> sun.awt.X11.XToolkit
zookeeper.server.0 <span class="token operator">=</span> node1:2888:3888
java.vm.info <span class="token operator">=</span> mixed mode
java.version <span class="token operator">=</span> 1.8.0_191
java.ext.dirs <span class="token operator">=</span> /opt/jdk1.8.0_191/jre/lib/ext:/usr/java/packages/lib/ext
sun.boot.class.path <span class="token operator">=</span> /opt/jdk1.8.0_191/jre/lib/resources.jar:/opt/jdk1.8.0_191/jre/lib/rt.jar:/opt/jdk1.8.0_191/jre/lib/sunrsasign.jar:/opt/jdk1.8.0_191/jre/lib/jsse.jar:/opt/jdk1.8.0_191/jre/lib/jce.jar:/opt/jdk1.8.0_191/jre/lib/charsets.jar:/opt/jdk1.8.0_191/jre/lib/jfr.jar:/opt/jdk1.8.0_191/jre/classes
java.vendor <span class="token operator">=</span> Oracle Corporation
file.separator <span class="token operator">=</span> /
java.vendor.url.bug <span class="token operator">=</span> http://bugreport.sun.com/bugreport/
sun.io.unicode.encoding <span class="token operator">=</span> UnicodeLittle
sun.cpu.endian <span class="token operator">=</span> little
zookeeper.log.file <span class="token operator">=</span> zookeeper-root-server-node1.log
sun.cpu.isalist <span class="token operator">=</span></code></pre>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://www.hnbian.cn" rel="external nofollow noreferrer">hnbian</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://www.hnbian.cn/posts/90dc673c.html">https://www.hnbian.cn/posts/90dc673c.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="https://www.hnbian.cn" target="_blank">hnbian</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/java/">
                                    <span class="chip bg-color">java</span>
                                </a>
                            
                                <a href="/tags/jvm/">
                                    <span class="chip bg-color">jvm</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="https://unpkg.com/valine/dist/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: 'h1rND3bHC0OqFwzm1UfPQpaY-gzGzoHsz',
        appKey: 'd7uboDt2WLV2HJCEMHkkLuU4',
        notify: 'true' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: 'identicon',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: ' 写点什么吧 . . .'
    });
</script>

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/posts/28600059.html">
                    <div class="card-image">
                        
                        <img src="https://images.hnbian.cn/FsIqvz5r7M2SIHgIRnfkZ5PR4bDD" class="responsive-img" alt="JVM系列（五）、常用命令（下）">
                        
                        <span class="card-title">JVM系列（五）、常用命令（下）</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            1. jmapjmap （Memory Map for Java）：命令用于生成堆转存快照。如果不使用jmap命令，想要获取Java堆转存快照，还有一些比较”暴力”的手段：-XX:HeapDumpOnOutOfMemoryError 参数，
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-01-30
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/java/" class="post-category">
                                    java
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/java/">
                        <span class="chip bg-color">java</span>
                    </a>
                    
                    <a href="/tags/jvm/">
                        <span class="chip bg-color">jvm</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/posts/d12162c.html">
                    <div class="card-image">
                        
                        <img src="https://images.hnbian.cn/Fram7a4kwZ_gwJtILdem-aR_S26U" class="responsive-img" alt="JVM系列（四）、垃圾收集器">
                        
                        <span class="card-title">JVM系列（四）、垃圾收集器</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            1、垃圾收集器
如果说收集算法时内存回收的方法论，那么垃圾收集器就是内存回收的具体实现。

2、 Serial收集器串行收集器是最古老、最稳定以及效率高的收集器，它进行垃圾收集时只使用一个线程去回收且必须暂停其他所有的工作线程，直到它收集结
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-01-28
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/java/" class="post-category">
                                    java
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/java/">
                        <span class="chip bg-color">java</span>
                    </a>
                    
                    <a href="/tags/jvm/">
                        <span class="chip bg-color">jvm</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>

    
<!-- 代码块复制 -->


<!-- 代码块收缩 -->


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>

    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="https://images.hnbian.cn/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4, h5'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4, h5').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2018</span>
            <a href="https://www.hnbian.cn" target="_blank">hnbian</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">810.5k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2018";
                    var startMonth = "2";
                    var startDate = "08";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
            <span id="icp"><img src="/medias/icp.png" style="vertical-align: text-bottom;" />
                <a href="https://beian.miit.gov.cn" target="_blank">粤ICP备18156920号-2</a>
            </span>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/hnbian" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:hnbian@126.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="https://images.hnbian.cn/materialize.min.js"></script>
    <script src="https://images.hnbian.cn/masonry.pkgd.min.js"></script>
    <script src="https://images.hnbian.cn/aos.js"></script>
    <script src="https://images.hnbian.cn/scrollProgress.min.js"></script>
    <script src="https://images.hnbian.cn/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-155985521-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-155985521-1');
    </script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="https://images.hnbian.cn/clicklove.js" async="async"></script>
    
    
    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    
    <script type="text/javascript" src="https://images.hnbian.cn/ribbon-dynamic.js" async="async"></script>
    
    
    
    <script src="https://images.hnbian.cn/instantpage.js" type="module"></script>
    

</body>

</html>
